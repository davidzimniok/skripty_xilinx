#!/bin/bash

MOUNT=/home

for i in $(seq -w 1 25); do
  USER="p${i}"
  sudo xfs_quota -x -c "limit -u bsoft=4g bhard=4608M $USER" $MOUNT
done

declare -A UCITELE
UCITELE=( ["micha"]="Michalek" ["zim"]="ZimniokZimniok" ["pau"]="Pauckova" ["han"]="HankeHanke" ["hor"]="HorakHorak" )

sudo groupadd -f ucitele

for USER in "${!UCITELE[@]}"; do
  PASS="${UCITELE[$USER]}"
  sudo useradd -m -s /bin/bash -g ucitele "$USER"
  echo "$USER:$PASS" | sudo chpasswd
  sudo passwd -e "$USER"
  sudo xfs_quota -x -c "limit -u bsoft=6g bhard=6656M $USER" $MOUNT
done

sudo xfs_quota -x -c "report -h" $MOUNT
